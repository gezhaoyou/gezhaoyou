---
title: Git使用规范
author: zhaoyou
date: 2021-01-04 10:34:00 +0800
categories: [Git]
tags: [git]
toc: true
---

### 一、 提交规范

1. 修改一个 `bug` 或增加 `feature` 不要 `commit` 多次，合并成一次提交，便于追踪

2. 使用 `rebase` 而非 `merge`，避免产生`merge`节点
   - 拉取分支使用 `git pull --rebase`命令
   - 合并分支使用 `git rebase [branch name]`, 如 `git rebase master` (将`mater`分支合并到当前所在分支)

3. `commit log` 增加分类，尽量解释详细，防止过后不清楚节点做了什么修改

   [`bugfix`] : fix android rtmp video crash  （修改bug）

   [`feature`] : ios support screen share		( 增加新功能)

   [`refactor`] : refine windows video capture module  (重构模块)

   [`chore`] : update readme doc （其他修改）

### 二、流程规范

1. 仓库下必须有 `master` 和 `dev` 分支，`dev`分支用于日常开发，`master` 分支用于出版本;
3.  `dev` 分支功能稳定后出版本，变更版本号，提交 `Merge Request`将 `dev` 分支合并到 `master` 分支，触发自动出包
4. `master `分支只有仓库管理员有提交&合并权限；

### 三、版本号

版本号由3位构成，如 `2.3.1`，递增规则如下

第1位：产品改动较大，大的版本变更,可能**无法向后兼容**

第2位：增加了新功能，向后兼容

第3位：修复 BUG 或优化代码，向后兼容

### 四、其他

1. Git GUI工具推荐：[fork] (https://git-fork.com) 或 [sourcetree] (https://www.sourcetreeapp.com)
2. Git Rebase 详解:  [https://www.cnblogs.com/TvvT-kevin/p/9611115.html](https://www.cnblogs.com/TvvT-kevin/p/9611115.html)

3. 语义化版本：[https//semver.org/lang/zh-CN/](https//semver.org/lang/zh-CN/)



